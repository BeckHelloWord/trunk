webpackJsonp([11,14],{66:function(t,a,e){(function(t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{jionlist:[],max:10,offset:0,ajaxLock:!0,currentTab:"all",loading:!0,tableLock:!1,rightTitle:"在投金额",initTime:0,assFlag:!1,flg:!1}},methods:{toCustomerDetail:function(t){Public.AppJump("http://"+window.location.host+"/m/index.html#!/financialPlanner/view/"+t.currentTarget.dataset.member)},changeTab:function(a){var e=this;t(".on").removeClass("on"),t(a.currentTarget).addClass("on"),e.currentTab=a.currentTarget.dataset.tab,e.jionlist=[],e.ajaxLock=!0,e.loading=!0,e.offset=0,"norealname"==this.currentTab?e.rightTitle="手机号码":"invote"==this.currentTab||"all"==this.currentTab?e.rightTitle="在投金额":e.rightTitle="账户余额",e.tableLock||e.getMore(this.currentTab)},jumpSearch:function(){this.$router.push("/search/"+this.currentTab)},getDate:function(){var t=this;0==Public.Auth.get()?t.assFlag=!0:t.assFlag=!1,Public.API_GET({url:"recommendMember",data:{offset:t.offset,max:t.max},success:function(a){a.isSuccess||t.assFlag&&t.initTime<10&&(window.setTimeout(function(){t.getDate()},300),t.initTime++),a.data.list&&a.data.list.length>0?t.jionlist=a.data.list:t.jionlist=[],!a.data.list||a.data.list.length<10?(t.ajaxLock=!1,t.loading=!1):t.loading=!0,t.offset=10}})},getMore:function(t){var a=this,e={offset:a.offset,max:a.max};"all"!=t&&(e.type=a.currentTab),a.tableLock||(a.tableLock=!0,Public.API_GET({url:"recommendMember",data:e,success:function(t){a.tableLock=!1,t.data.list&&t.data.list.length>0&&(a.jionlist=a.jionlist.concat(t.data.list)),!t.data.list||t.data.list.length<10?(a.ajaxLock=!1,a.loading=!1):(a.loading=!0,a.ajaxLock=!0),a.offset+=10}}))}},created:function(){this.$parent.setTitle("客户列表");var a=this,e=t(window).height();t(window).on("scroll",function(){var i=t(this).scrollTop(),n=t(document).height();i+e>=n&&a.ajaxLock&&(a.loading=!0,a.ajaxLock=!1,a.getMore(a.currentTab))})},mounted:function(){var a=this;Public.setPageInit(a.getDate),Public.pageInit();var e=function(a,e,i){var n,s,l=!1,o=!1,c=/hp-tablet/gi.test(navigator.appVersion),r="ontouchstart"in window&&!c;a=t(a);var d=a.parent(),u={translate:function(t){a.css({"-webkit-transform":"translate(0,"+t+"px)",transform:"translate(0,"+t+"px)"})},setTranslition:function(t){a.css({"-webkit-transition":"all "+t+"s",transition:"all "+t+"s"})},back:function(){u.translate(0-e),l=!1}};a.bind("touchstart",function(t){if(d.scrollTop()<=0&&!l){var a="undefined"==typeof event?t:event;l=!0,o=!0,n=r?a.touches[0].pageY:a.pageY,u.setTranslition(0)}}),a.bind("touchmove",function(t){if(d.scrollTop()<=0&&o){var a="undefined"==typeof event?t:event;s=r?a.touches[0].pageY:a.pageY,n<s&&(a.preventDefault(),u.setTranslition(0),u.translate(s-n-e))}}),a.bind("touchend",function(t){o&&(o=!1,s-n>=e?(u.setTranslition(1),u.translate(0),"function"==typeof i&&i.call(u,t)):l=!1)})};new e(".view",50,function(){a.flg=!0})}}}).call(a,e(1))},173:function(t,a,e){var i,n;i=e(66);var s=e(196);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=s.render,n.staticRenderFns=s.staticRenderFns,t.exports=i},196:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"view",staticStyle:{"padding-bottom":"51px"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.flg,expression:"flg"}],staticClass:"search-wrap"},[e("div",{staticClass:"search-input",on:{click:t.jumpSearch}},[e("i",{staticClass:"icon-search-local icon-search-bold iconfontSearch"}),t._v("搜索")])]),t._v(" "),e("div",{staticClass:"invest-list compd customer-title clearfix"},[t._v("我的客户"),e("span",[t._v(t._s(t.rightTitle))]),e("span",{directives:[{name:"show",rawName:"v-show",value:"all"==t.currentTab,expression:"currentTab=='all'"}],staticClass:"client-center-title"},[t._v("账户余额")])]),t._v(" "),t.jionlist.length>0?[e("div",{staticClass:"record-list compd"},[e("table",[e("tbody",t._l(t.jionlist,function(a){return e("tr",{attrs:{"data-member":a.memberId},on:{click:t.toCustomerDetail}},[e("td",{attrs:{width:"15%"}},[a.avatar?e("i",{staticClass:"headimg",style:"background-image:url(https://bxwd-img.oss-cn-hangzhou.aliyuncs.com/"+a.avatar+");"}):e("i",{staticClass:"defaultHead"})]),t._v(" "),e("td",{staticClass:"list-center",attrs:{width:"31%"}},[e("span",{staticClass:"g333"},[t._v(t._s(t._f("formatName")(a.realName)))]),t._v(" "),"norealname"==t.currentTab?e("p",{staticClass:"g999"},[t._v("注册时间:"+t._s(a.regTime))]):e("p",{staticClass:"g999"},[t._v(t._s(a.mobile))])]),t._v(" "),e("td",{directives:[{name:"show",rawName:"v-show",value:"all"==t.currentTab,expression:"currentTab=='all'"}],staticClass:"list-right client-center-list",attrs:{width:"27%"}},[e("span",{staticClass:"g333 "},[t._v(t._s(t._f("formatMoney")(a.accountBalance)))])]),t._v(" "),e("td",{staticClass:"list-right",attrs:{width:"27%"}},["norealname"==t.currentTab?e("span",{staticClass:"g333 client-extend"},[t._v(t._s(a.mobile))]):e("span",{staticClass:"g333"},[t._v(t._s(t._f("formatMoney")(a.extend)))])])])}))])])]:t._e(),t._v(" "),0!=t.jionlist.length&&t.loading?e("div",{staticClass:"load-gif"},[t._v("\n            加载中...\n        ")]):t._e(),t._v(" "),0==t.jionlist.length||t.loading?t._e():e("div",{staticClass:"load-gif"},[t._v("\n            没有更多了\n        ")]),t._v(" "),0==t.jionlist.length&&t.loading?e("div",{staticClass:"customer-loading"},[t._v("\n            加载中...\n        ")]):t._e(),t._v(" "),0!=t.jionlist.length||t.loading?t._e():e("div",{staticClass:"customer-loading"},[t._v("\n            暂无数据\n        ")])],2),t._v(" "),e("div",{staticClass:"client-tab"},[e("ul",[e("li",{staticClass:"on",attrs:{"data-tab":"all"},on:{click:t.changeTab}},[t._v("全部")]),t._v(" "),e("li",{attrs:{"data-tab":"invote"},on:{click:t.changeTab}},[t._v("在投客户")]),t._v(" "),e("li",{attrs:{"data-tab":"novote"},on:{click:t.changeTab}},[t._v("空仓客户")]),t._v(" "),e("li",{attrs:{"data-tab":"norealname"},on:{click:t.changeTab}},[t._v("未实名")])])])])},staticRenderFns:[]}}});