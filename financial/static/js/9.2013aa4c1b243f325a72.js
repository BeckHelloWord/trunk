webpackJsonp([9,14],{68:function(t,a,e){(function(t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{birthday:0,jionlist:[],offset:0,max:10,currentTab:"all",ajaxLock:!0,tableLock:!1,loading:!0,initTime:0,assFlag:!0}},methods:{goToClient:function(){Public.PushNextPage(this.$router,"/client")},goToBirthday:function(){Public.PushNextPage(this.$router,"/birthday")},goToContacts:function(){Public.PushNextPage(this.$router,"/contacts")},goToPayment:function(){Public.PushNextPage(this.$router,"/payment")},toCustomerDetail:function(t){Public.AppJump("http://"+window.location.host+"/m/index.html#!/financialPlanner/view/"+t.currentTarget.dataset.member)},changeTab:function(a){var e=this;e.tableLock||(t(".on").removeClass("on"),t(a.currentTarget).addClass("on"),e.currentTab=a.currentTarget.dataset.tab,e.jionlist=[],e.ajaxLock=!0,e.offset=0,e.getMore(this.currentTab),e.tableLock=!0)},getDate:function(){localStorage.setItem("ajaxStart",(new Date).getTime());var t=this;0==Public.Auth.get()?t.assFlag=!0:t.assFlag=!1,Public.API_GET({url:"recommendMoneyRecord",data:{offset:t.offset,max:t.max},success:function(a){a.isSuccess?(t.jionlist=a.data,a.data.length<10?(t.ajaxLock=!1,t.loading=!1):(t.ajaxLock=!0,t.loading=!0),t.offset=10):t.assFlag&&t.initTime<10&&(window.setTimeout(function(){t.getDate()},200),t.initTime++)}})},getMore:function(t){var a=this,e={offset:a.offset,max:a.max};"all"!=t&&(e.type=t),Public.API_GET({url:"recommendMoneyRecord",data:e,success:function(t){a.jionlist=a.jionlist.concat(t.data),a.tableLock=!1,t.data.length<10?(a.ajaxLock=!1,a.loading=!1):(a.loading=!0,a.ajaxLock=!0),a.offset+=10}})},initBirthday:function(){var t=this;Public.API_GET({url:"getClientBirthdayList",data:{day:7,offset:0,max:99},success:function(a){t.birthday=a.data.length}})}},mounted:function(){this.$parent.setTitle("客户动态");var a=this;Public.setPageInit(a.getDate),Public.pageInit();var e=t(window).height();t(window).on("scroll",function(){var i=t(this).scrollTop(),s=t(document).height();i+e>=s&&a.ajaxLock&&(a.loading=!0,a.ajaxLock=!1,a.getMore(a.currentTab))})},beforeMount:function(){}}}).call(a,e(1))},175:function(t,a,e){var i,s;i=e(68);var n=e(194);s=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(s=i=i.default),"function"==typeof s&&(s=s.options),s.render=n.render,s.staticRenderFns=n.staticRenderFns,t.exports=i},194:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"customer-bar compd clearfix"},[e("div",{staticClass:"customer-col",on:{click:t.goToClient}},[t._m(0),t._v(" "),e("div",[t._v("\n            客户列表\n        ")])]),t._v(" "),e("div",{staticClass:"customer-col"},[e("div",{staticClass:"customer-logo-cover",on:{click:t.goToContacts}},[e("i",{staticClass:"iconfont icon-comments"})]),t._v(" "),e("div",[t._v("\n            消息群发\n        ")])]),t._v(" "),e("div",{staticClass:"customer-col"},[e("div",{staticClass:"customer-logo-cover",on:{click:t.goToPayment}},[e("i",{staticClass:"iconfont icon-trade"})]),t._v(" "),e("div",[t._v("\n            即将回款\n        ")])]),t._v(" "),e("div",{staticClass:"customer-col"},[e("div",{staticClass:"customer-logo-cover",on:{click:t.goToBirthday}},[e("i",{staticClass:"iconfont icon-renwuguanli"})]),t._v(" "),t.birthday>0?e("i",{staticClass:"customer-logo-alert"},[t._v(t._s(t.birthday))]):t._e(),t._v(" "),e("div",[t._v("\n            生日提醒\n        ")])])]),t._v(" "),e("div",{staticClass:"customer-tab  clearfix"},[e("ul",[e("li",{staticClass:"on",attrs:{"data-tab":"all"},on:{click:t.changeTab}},[t._v("全部")]),t._v(" "),e("li",{attrs:{"data-tab":"receipt"},on:{click:t.changeTab}},[t._v("回款")]),t._v(" "),e("li",{attrs:{"data-tab":"register"},on:{click:t.changeTab}},[t._v("注册")]),t._v(" "),e("li",{attrs:{"data-tab":"recharge"},on:{click:t.changeTab}},[t._v("充值")]),t._v(" "),e("li",{attrs:{"data-tab":"invest"},on:{click:t.changeTab}},[t._v("投资")]),t._v(" "),e("li",{attrs:{"data-tab":"withdraw"},on:{click:t.changeTab}},[t._v("提现")])])]),t._v(" "),e("div",[t.jionlist.length>0?[e("div",{staticClass:"record-list compd"},[e("table",[e("tbody",[t._l(t.jionlist,function(a){return[e("tr",{attrs:{"data-member":a.memberId},on:{click:t.toCustomerDetail}},[e("td",{attrs:{width:"20%"}},[a.avatar?e("i",{staticClass:"headimg",style:"background-image:url(https://bxwd-img.oss-cn-hangzhou.aliyuncs.com/"+a.avatar+");"}):e("i",{staticClass:"defaultHead"})]),t._v(" "),e("td",{staticClass:"list-center",attrs:{width:"35%"}},[e("span",{staticClass:"g333"},[t._v(t._s(a.realName)),e("em",{class:"tap tap-"+a.type},[t._v(t._s(a.typeName))])]),t._v(" "),e("p",{staticClass:"g999"},[t._v(t._s(a.time))])]),t._v(" "),e("td",{staticClass:"list-right",attrs:{width:"45%"}},["register"!=a.type?[e("span",{staticClass:"g333"},[t._v(t._s(t._f("formatMoney")(a.balanceaffect))+"元")])]:t._e(),t._v(" "),"recharge"==a.type||"withdraw"==a.type?["recharge"==a.type?e("p",{staticClass:"g999"},[t._v(t._s("共"+a.number+"笔充值"))]):t._e(),t._v(" "),"withdraw"==a.type?e("p",{staticClass:"g999"},[t._v(t._s("共"+a.number+"笔提现"))]):t._e()]:t._e(),t._v(" "),"invest"==a.type||"receipt"==a.type?["receipt"==a.type&&a.number>1?e("p",{staticClass:"g999"},[t._v(t._s("共"+a.number+"笔回款"))]):t._e(),t._v(" "),"invest"==a.type&&a.number>1?e("p",{staticClass:"g999"},[t._v(t._s("共"+a.number+"笔投资"))]):t._e(),t._v(" "),1==a.number?e("p",{staticClass:"g999"},[t._v(t._s(t._f("formatRemark")(a.remark)))]):t._e()]:t._e(),t._v(" "),"register"==a.type?[1==a.number?e("p",{staticClass:"g999"},[t._v(t._s(a.mobile))]):t._e()]:t._e()],2)])]})],2)])])]:t._e()],2),t._v(" "),0!=t.jionlist.length&&t.loading?e("div",{staticClass:"load-gif"},[t._v("\n        加载中...\n    ")]):t._e(),t._v(" "),0==t.jionlist.length||t.loading?t._e():e("div",{staticClass:"load-gif"},[t._v("\n        没有更多了\n    ")]),t._v(" "),0==t.jionlist.length&&t.loading?e("div",{staticClass:"customer-loading"},[t._v("\n        加载中...\n    ")]):t._e(),t._v(" "),0!=t.jionlist.length||t.loading?t._e():e("div",{staticClass:"customer-loading"},[t._v("\n        暂无数据\n    ")])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"customer-logo-cover"},[e("i",{staticClass:"iconfont icon-bussinessman"})])}]}}});